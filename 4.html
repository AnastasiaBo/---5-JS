<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="product">
        <div class="productName">Product 1 name</div>
            <img src="img/coffee.jpg" alt="coffee" width="200" height="200">
            <button>Подробнее</button>
    </div>
    <div class="product">
        <div class="productName">Product 1 name</div>
            <img src="img/coffee.jpg" alt="coffee" width="200" height="200">
            <button>Подробнее</button>
    </div>
    <div class="product">
        <div class="productName">Product 1 name</div>
            <img src="img/coffee.jpg" alt="coffee" width="200" height="200">
            <button>Подробнее</button>
    </div>
    <script>
        'use strict';
        let buttons = document.querySelectorAll('button');
        buttons.forEach(function(button) {
            button.addEventListener('click', function(event) {
                handleClick(event);
            });
        });

        function handleClick(clickedButtonEvent) {
            let cardNode = clickedButtonEvent.target.parentNode;

            let card = {
                wrap: cardNode,
                img: cardNode.querySelector('img'),
                productName: cardNode.querySelector('.productName'),
                button: cardNode.querySelector('button'),

            };
            let textOnButton = card.button.innerText;
            if (textOnButton === 'Подробнее') {
                showMoreText(card);
            } else if (textOnButton === 'Отмена') {
                hideMoreText(card);
            }

        }
        function hideMoreText(card) {
            card.img.style.display= 'block';
            card.wrap.querySelector('.desc').remove();
            card.button.innerText = 'Подробнее';
        }

        function showMoreText(card) {
            card.img.style.display = 'none';
            let text = 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Itaque, non incidunt in reiciendis voluptates est ipsum amet facilis alias, officiis modi fuga perferendis quia cupiditate ad delectus, tempora eum cum.';
            card.productName.insertAdjacentHTML('afterend', `<div class="desc">${text}</div>`);
            card.button.innerText = 'Отмена';
        }

    </script>

</body>

</html>
